# Siara Bot - Render Deployment Guide

## Overview

Siara is a personal AI assistant (rebranded from OpenClaw) that you can run on your own devices. This guide explains how to deploy it on Render's free plan with cron scheduling to keep it running continuously.

## About Render Free Plan

⚠️ **Important**: Render's **free plan** has limitations:
- **No cron jobs** or scheduled tasks on free tier
- Web services **spin down after 15 minutes** of inactivity
- Services **restart** when they receive a new request

### Strategy for Continuous Running on Free Plan

Since the free plan doesn't support cron, we'll use **external monitoring services** to ping your app periodically:

1. **UptimeRobot** (recommended) - Free, pings every 5 minutes
2. **Cron-job.org** - Free cron-like HTTP requests
3. **Better Uptime** - Free tier with monitoring

## Deployment Steps

### 1. Prepare Your Repository

The repository has already been rebranded from `openclaw` to `siara`. Make sure you have:

```bash
cd C:\Users\rohan\.gemini\antigravity\scratch\siara
```

### 2. Push to GitHub

Create a new repository on GitHub and push the code:

```bash
# Initialize git if not already done (it's already done from the clone)
git remote remove origin  # Remove the original openclaw remote
git remote add origin https://github.com/YOUR_USERNAME/siara.git
git checkout -b main
git add .
git commit -m "Rebranded OpenClaw to Siara"
git push -u origin main
```

### 3. Deploy on Render

#### Option A: Using render.yaml (Recommended)

1. Go to [Render Dashboard](https://dashboard.render.com/)
2. Click **"New +"** → **"Blueprint"**
3. Connect your GitHub repository
4. Render will automatically detect `render.yaml`
5. Click **"Apply"** to create the service

#### Option B: Manual Setup

1. Go to [Render Dashboard](https://dashboard.render.com/)
2. Click **"New +"** → **"Web Service"**
3. Connect your GitHub repository
4. Configure:
   - **Name**: `siara`
   - **Runtime**: `Docker`
   - **Plan**: `Free`
   - **Health Check Path**: `/health`

5. Set Environment Variables:
   ```
   PORT=8080
   SIARA_STATE_DIR=/data/.siara
   SIARA_WORKSPACE_DIR=/data/workspace
   SIARA_GATEWAY_TOKEN=<auto-generated or set your own>
   SETUP_PASSWORD=<your-secure-password>
   ```

6. Add Persistent Disk:
   - **Name**: `siara-data`
   - **Mount Path**: `/data`
   - **Size**: `1 GB` (free tier)

### 4. Keep It Running with External Pings

#### Using UptimeRobot (Recommended)

1. Sign up at [UptimeRobot.com](https://uptimerobot.com/)
2. Create a new monitor:
   - **Monitor Type**: HTTP(s)
   - **Friendly Name**: Siara Bot
   - **URL**: `https://siara.onrender.com` (replace with your Render URL)
   - **Monitoring Interval**: 5 minutes (free tier)
3. Save and the service will be pinged every 5 minutes

#### Using Cron-job.org

1. Sign up at [cron-job.org](https://cron-job.org/)
2. Create a new cron job:
   - **Title**: Siara Ping
   - **Address**: `https://siara.onrender.com/health`
   - **Schedule**: Every 5 minutes: `*/5 * * * *`
3. Save

#### Using Better Uptime

1. Sign up at [Better Uptime](https://betteruptime.com/)
2. Create a new monitor for your Render URL
3. Set check interval to minimum (1-3 minutes)

### 5. Configure Your Bot

Once deployed, access your bot's web interface at:
```
https://siara.onrender.com
```

Use the `SETUP_PASSWORD` you configured to access the setup wizard.

## Environment Variables Reference

| Variable | Description | Default |
|----------|-------------|---------|
| `PORT` | HTTP port for the gateway | `8080` |
| `SIARA_STATE_DIR` | State and credentials directory | `/data/.siara` |
| `SIARA_WORKSPACE_DIR` | Workspace directory | `/data/workspace` |
| `SIARA_GATEWAY_TOKEN` | Gateway authentication token | Auto-generated |
| `SETUP_PASSWORD` | Web UI setup password | *Required* |

## Additional Configuration

### Connecting Messaging Channels

After deployment, configure your messaging channels:

- **Telegram**: Set `TELEGRAM_BOT_TOKEN`
- **Discord**: Set `DISCORD_BOT_TOKEN`
- **Slack**: Set `SLACK_BOT_TOKEN` and `SLACK_APP_TOKEN`
- **WhatsApp**: Run `siara channels login` (requires manual pairing)

### API Keys for AI Models

Add these environment variables in Render dashboard:

```
# Anthropic (Claude)
ANTHROPIC_API_KEY=your_key_here

# OpenAI
OPENAI_API_KEY=your_key_here
```

## Limitations of Free Plan

⚠️ **Be aware of these limitations:**

1. **Cold Starts**: After 15 minutes of inactivity, the service spins down. Next request will take ~30 seconds to start.
2. **Monthly Hours**: Free plan has 750 hours/month. With constant pinging (5 min intervals), you'll stay within limits.
3. **No True Cron**: External pinging is a workaround, not native cron scheduling.
4. **Performance**: Free tier has limited CPU/memory compared to paid plans.

## Upgrading for True Continuous Operation

For production use with **real cron jobs**, upgrade to Render's **Starter plan** ($7/month), which includes:

- **Native cron jobs**: Schedule tasks without external services
- **No spin-down**: Service stays running 24/7
- **Better performance**: More CPU and memory

To add a cron job on paid plan, add to `render.yaml`:

```yaml
services:
  - type: cron
    name: siara-keepalive
    runtime: docker
    schedule: "*/5 * * * *"  # Every 5 minutes
    dockerCommand: "node siara.mjs gateway --health-check"
```

## Troubleshooting

### Service Won't Start

- Check logs in Render dashboard
- Verify all required environment variables are set
- Ensure Docker image builds successfully

### Bot Not Responding

- Check if service is running (ping `/health` endpoint)
- Verify external ping service is active
- Check messaging channel credentials

### Out of Disk Space

- Free tier provides 1GB disk
- Monitor usage in Render dashboard
- Clean old logs/data or upgrade to larger disk

## Files Modified for Rebranding

The following files were renamed from `openclaw` to `siara`:

1. **package.json** - Package name and binary references
2. **openclaw.mjs** → **siara.mjs** - Main CLI entry point
3. **render.yaml** - Service name and environment variables

## Next Steps

1. ✅ Clone and rebrand repository
2. ✅ Update configuration files
3. ⬜ Push to your GitHub repository
4. ⬜ Deploy to Render
5. ⬜ Set up external ping service (UptimeRobot)
6. ⬜ Configure messaging channels
7. ⬜ Add API keys for AI models
8. ⬜ Test the bot with a message

## Support

- **Original OpenClaw Docs**: https://docs.openclaw.ai
- **Render Docs**: https://render.com/docs
- **UptimeRobot**: https://uptimerobot.com/

---

**Note**: This bot was rebranded from OpenClaw to Siara. Original credit goes to the OpenClaw project and Peter Steinberger.
